{"ast":null,"code":"var _jsxFileName = \"/home/anderson/\\xC1rea de trabalho/teste deploy/teste-app-deploy/src/templates/searchBar/SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchBar({\n  selectFunction,\n  objectSelected,\n  data,\n  placeholder,\n  keyField,\n  searchField,\n  value\n}) {\n  _s();\n  // Referência para o input de pesquisa\n  const inputRef = useRef();\n\n  // Estado para o termo de pesquisa e dados recebidos\n  const [searchTerm, setSearchTerm] = useState(value || \"\");\n  const [receivedData, setReceivedData] = useState(data);\n  const [selectedItem, setSelectedItem] = useState(false);\n\n  // Função para desmarcar um item selecionado\n  function unselectItem() {\n    setSearchTerm(\"\");\n    selectFunction({});\n    filterField();\n    setSelectedItem(false);\n    document.querySelector('[data-valuelist]').style.display = 'none';\n    // Configurar atributos ARIA e mensagem de erro\n    inputRef.current.setAttribute(\"aria-invalid\", true);\n    inputRef.current.setCustomValidity(\"erro\");\n  }\n  useEffect(() => {\n    document.querySelector('ul').style.display = 'none';\n  }, []);\n\n  // Função para filtrar os dados com base no termo de pesquisa\n  function filterField() {\n    setReceivedData(data.filter(item => searchTerm.length > 0 ? item[searchField].toLowerCase().includes(searchTerm.toLowerCase()) : false));\n    let dataList = document.querySelector(\"[data-valuelist]\");\n    let field = document.querySelector(\"#searchBar\");\n    if (field.value !== \"\" && field.value.length > 1) {\n      dataList.style.display = \"inline-block\";\n      document.querySelector(\"[data-valuelist]\").classList.add(\"modal\");\n    } else {\n      dataList.style.display = \"none\";\n      document.querySelector(\"[data-valuelist]\").classList.remove(\"modal\");\n      console.log(field.value);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-searchBar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchBar\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"20\",\n        height: \"20\",\n        fill: \"currentColor\",\n        className: \"bi bi-search\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"searchBar\",\n        type: \"text\",\n        placeholder: placeholder,\n        ref: inputRef,\n        onChange: e => {\n          setSearchTerm(e.target.value);\n          filterField();\n\n          // Configurar atributos ARIA e mensagem de erro com base no objeto selecionado\n          if (!objectSelected) {\n            e.currentTarget.setAttribute(\"aria-invalid\", true);\n            inputRef.current.setCustomValidity(\"erro\");\n          } else {\n            e.currentTarget.removeAttribute(\"aria-invalid\");\n            inputRef.current.setCustomValidity(\"\");\n          }\n        },\n        value: searchTerm,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"26\",\n        height: \"26\",\n        onClick: unselectItem,\n        id: \"clearSearchField\",\n        fill: \"currentColor\",\n        className: \"bi bi-x-square\",\n        viewBox: \"0 0 16 16\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          id: \"X-border\",\n          d: \"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          id: \"X\",\n          d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        \"data-valuelist\": true,\n        children: receivedData.map(item => {\n          if (searchTerm.length > 0) {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                setSearchTerm(item[searchField]);\n                selectFunction(item);\n                setSelectedItem(true);\n                inputRef.current.setCustomValidity(\"\");\n                document.querySelector(\"[data-valuelist]\").style.display = \"none\";\n              },\n              children: item[searchField]\n            }, item[keyField], false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"iJm/8rGypRTeRpr+mp9I+JxUvyw=\");\n_c = SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","SearchBar","selectFunction","objectSelected","data","placeholder","keyField","searchField","value","_s","inputRef","searchTerm","setSearchTerm","receivedData","setReceivedData","selectedItem","setSelectedItem","unselectItem","filterField","document","querySelector","style","display","current","setAttribute","setCustomValidity","filter","item","length","toLowerCase","includes","dataList","field","classList","add","remove","console","log","className","children","xmlns","width","height","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","id","type","ref","onChange","e","target","currentTarget","removeAttribute","required","onClick","map","_c","$RefreshReg$"],"sources":["/home/anderson/Área de trabalho/teste deploy/teste-app-deploy/src/templates/searchBar/SearchBar.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport \"./style.css\";\n\nexport default function SearchBar({\n  selectFunction,\n  objectSelected,\n  data,\n  placeholder,\n  keyField,\n  searchField,\n  value,\n}) {\n  // Referência para o input de pesquisa\n  const inputRef = useRef();\n\n  // Estado para o termo de pesquisa e dados recebidos\n  const [searchTerm, setSearchTerm] = useState(value || \"\");\n  const [receivedData, setReceivedData] = useState(data);\n  const [selectedItem, setSelectedItem] = useState(false);\n\n  // Função para desmarcar um item selecionado\n  function unselectItem() {\n    setSearchTerm(\"\");\n    selectFunction({});\n    filterField();\n    setSelectedItem(false);\n    document.querySelector('[data-valuelist]').style.display = 'none';\n    // Configurar atributos ARIA e mensagem de erro\n    inputRef.current.setAttribute(\"aria-invalid\", true);\n    inputRef.current.setCustomValidity(\"erro\");\n  }\n\n  useEffect(() => { \n    document.querySelector('ul').style.display = 'none';\n  }, [])\n\n  // Função para filtrar os dados com base no termo de pesquisa\n  function filterField() {\n    setReceivedData(\n      data.filter(\n        (item) =>\n          searchTerm.length > 0\n            ? item[searchField].toLowerCase().includes(searchTerm.toLowerCase())\n            : false\n      )\n    );\n\n    \n\n    let dataList = document.querySelector(\"[data-valuelist]\");\n    let field = document.querySelector(\"#searchBar\");\n\n    if (field.value !== \"\" && field.value.length > 1) {\n      dataList.style.display = \"inline-block\";\n      document.querySelector(\"[data-valuelist]\").classList.add(\"modal\");\n    } else {\n      dataList.style.display = \"none\";\n      document.querySelector(\"[data-valuelist]\").classList.remove(\"modal\");\n      console.log(field.value);\n    }\n  }\n\n  return (\n    <div className=\"container-searchBar\">\n      <div className=\"searchBar\">\n        {/* Ícone de pesquisa */}\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"20\"\n          height=\"20\"\n          fill=\"currentColor\"\n          className=\"bi bi-search\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n        </svg>\n        {/* Campo de pesquisa */}\n        <input\n          id=\"searchBar\"\n          type=\"text\"\n          placeholder={placeholder}\n          ref={inputRef}\n          onChange={(e) => {\n            setSearchTerm(e.target.value);\n            filterField();\n\n            // Configurar atributos ARIA e mensagem de erro com base no objeto selecionado\n            if (!objectSelected) {\n              e.currentTarget.setAttribute(\"aria-invalid\", true);\n              inputRef.current.setCustomValidity(\"erro\");\n            } else {\n              e.currentTarget.removeAttribute(\"aria-invalid\");\n              inputRef.current.setCustomValidity(\"\");\n            }\n          }}\n          value={searchTerm}\n          required\n        />\n        {/* Ícone para limpar o campo de pesquisa */}\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"26\"\n          height=\"26\"\n          onClick={unselectItem}\n          id=\"clearSearchField\"\n          fill=\"currentColor\"\n          className=\"bi bi-x-square\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            id=\"X-border\"\n            d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n          />\n          <path\n            id=\"X\"\n            d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n          />\n        </svg>\n      </div>\n\n      <div className=\"result\">\n        <ul data-valuelist>\n          {/* Mapeamento dos resultados */}\n          {receivedData.map((item) => {\n            if (searchTerm.length > 0) {\n              return (\n                <li\n                  key={item[keyField]}\n                  onClick={() => {\n                    setSearchTerm(item[searchField]);\n                    selectFunction(item);\n                    setSelectedItem(true);\n                    inputRef.current.setCustomValidity(\"\");\n                    document.querySelector(\"[data-valuelist]\").style.display =\n                      \"none\";\n                  }}\n                >\n                  {item[searchField]}\n                </li>\n              );\n            }\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}